(()=>{"use strict";var e={20:(e,t,a)=>{var l=a(609),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,a){var l,i={},u=null,_=null;for(l in void 0!==a&&(u=""+a),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(_=t.ref),t)s.call(t,l)&&!o.hasOwnProperty(l)&&(i[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===i[l]&&(i[l]=t[l]);return{$$typeof:n,type:e,key:u,ref:_,props:i,_owner:r.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},848:(e,t,a)=>{e.exports=a(20)},609:e=>{e.exports=window.React}},t={};const a=window.wp.i18n,l=window.wp.plugins,n=window.wp.element,i=window.wp.date,s=window.wp.coreData,r=window.wp.editPost;function o(e){return!isNaN(Date.parse(e))}function u(e){return e.toString().padStart(2,"0")}const _=window.wp.components;var m=function a(l){var n=t[l];if(void 0!==n)return n.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,a),i.exports}(848);const v=({label:e,date:t,onDateChange:l})=>{const s=new Date,r=t||s,[o,v]=(0,n.useState)((0,i.format)("m",r)),[d,c]=(0,n.useState)((0,i.format)("d",r)),[p,x]=(0,n.useState)((0,i.format)("Y",r));return(0,n.useEffect)((()=>{l(p&&o&&d?p+"-"+o+"-"+d:"")}),[o,d,p]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(_.BaseControl,{children:[(0,m.jsx)(_.BaseControl.VisualLabel,{children:e}),(0,m.jsxs)(_.Flex,{children:[(0,m.jsx)(_.FlexItem,{style:{flexGrow:"1"},children:(0,m.jsx)(_.SelectControl,{options:[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],value:o,onChange:e=>v(e),style:{height:"36px"},__nextHasNoMarginBottom:!0})}),(0,m.jsx)(_.__experimentalNumberControl,{label:(0,a.__)("Day","festival"),hideLabelFromVision:!0,spinControls:"none",min:"1",max:"31",onChange:e=>c(u(e)),value:d,className:"day-input",style:{width:"36px",height:"36px",textAlign:"center"}}),(0,m.jsx)(_.__experimentalNumberControl,{label:(0,a.__)("Year","festival"),hideLabelFromVision:!0,spinControls:"none",min:(0,i.format)("Y",s),max:"9999",onChange:e=>x(e),value:p,style:{width:"56px",height:"36px",textAlign:"center"}})]})]})})},d=({label:e,time:t,onTimeChange:l})=>{const s=new Date,r=t||s,[o,v]=(0,n.useState)((0,i.format)("h",r)),[d,c]=(0,n.useState)((0,i.format)("i",r)),[p,x]=(0,n.useState)((0,i.format)("A",r));return(0,n.useEffect)((()=>{l(o&&d&&p?function(e){const t=e.slice(-2),a=e.slice(0,-2).split(":");return"AM"===t&&"12"===a[0]?a[0]="00":"PM"===t&&(a[0]=a[0]%12+12),a.join(":").replace(/\s+/g,"")}(o+":"+d+" "+p):"")}),[o,d,p]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(_.BaseControl,{className:"festival-time-input",children:[(0,m.jsx)(_.BaseControl.VisualLabel,{children:e}),(0,m.jsxs)(_.Flex,{justify:"flex-start",children:[(0,m.jsxs)(_.Flex,{gap:"0",style:{width:"auto"},children:[(0,m.jsx)(_.__experimentalNumberControl,{label:(0,a.__)("Hour","festival"),className:"input-hour",hideLabelFromVision:!0,spinControls:"none",min:"1",max:"12",onChange:e=>v(u(e)),value:o,style:{height:"36px"}}),(0,m.jsx)("div",{className:"input-separator",children:":"}),(0,m.jsx)(_.__experimentalNumberControl,{label:(0,a.__)("Minutes","festival"),className:"input-minutes",hideLabelFromVision:!0,spinControls:"none",min:"0",max:"59",onChange:e=>c(u(e)),value:d,style:{height:"36px"}})]}),(0,m.jsxs)(_.ButtonGroup,{children:[(0,m.jsx)(_.Button,{variant:"AM"===p?"primary":"secondary",onClick:()=>x("AM"),children:(0,a.__)("AM","festival")}),(0,m.jsx)(_.Button,{variant:"PM"===p?"primary":"secondary",onClick:()=>x("PM"),children:(0,a.__)("PM","festival")})]})]})]})})};(0,l.registerPlugin)("festival-event-date-time-panel",{render:()=>{const[e,t]=(0,s.useEntityProp)("postType","festival_events","meta"),l=(a,l)=>{t({...e,[a]:l})},u=e.event_start_datetime,c=e.event_end_datetime,p=e.event_all_day,x=e.event_multi_day,[f,h]=(0,n.useState)(o(u)?(0,i.date)("Y-m-d",u):""),[g,b]=(0,n.useState)(o(u)?(0,i.date)("H:i:s",u):"00:00:00"),[y,C]=(0,n.useState)(o(c)?(0,i.date)("Y-m-d",c):""),[j,w]=(0,n.useState)(o(c)?(0,i.date)("H:i:s",c):"00:00:00"),S=x?"multi":"single";return(0,n.useEffect)((()=>{const e=g&&!p?g:"00:00:00",t=(0,i.date)("Y-m-d H:i:s",f+" "+e);o(t)&&l("event_start_datetime",t)}),[f,g,x,p]),(0,n.useEffect)((()=>{const e=j||"00:00",t=(x?y:f)||"",a=(0,i.date)("Y-m-d H:i:s",t+" "+e);o(a)&&l("event_end_datetime",a)}),[y,j,x,p]),(0,m.jsxs)(r.PluginDocumentSettingPanel,{name:"festival-event-meta",title:(0,a.__)("Date & Time","festival"),className:"festival-event-date-time",children:[(0,m.jsxs)(_.__experimentalToggleGroupControl,{label:(0,a.__)("Single or Multi-Day Event"),value:S,isBlock:!0,hideLabelFromVision:!0,onChange:e=>{l("event_multi_day","multi"===e)},children:[(0,m.jsx)(_.__experimentalToggleGroupControlOption,{value:"single",label:"Single Day"}),(0,m.jsx)(_.__experimentalToggleGroupControlOption,{value:"multi",label:"Multiple Day"})]}),(0,m.jsx)(v,{label:(0,a.__)("Start Date","festival"),date:u,onDateChange:e=>h(e)}),!1===e.event_multi_day?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(_.ToggleControl,{label:(0,a.__)("All Day","festival"),checked:e.event_all_day,onChange:e=>l("event_all_day",e)}),!1===e.event_all_day?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d,{label:(0,a.__)("Start Time","festival"),time:u,onTimeChange:e=>b(e)}),(0,m.jsx)(d,{label:(0,a.__)("End Time","festival"),time:c,onTimeChange:e=>w(e)})]}):null]}):(0,m.jsx)(v,{label:(0,a.__)("End Date","festival"),date:c,onDateChange:e=>C(e),min:f})]})}}),(0,l.registerPlugin)("festival-event-location-panel",{render:()=>{const[e,t]=(0,s.useEntityProp)("postType","festival_events","meta"),l=(a,l)=>{t({...e,[a]:l})};return(0,m.jsxs)(r.PluginDocumentSettingPanel,{name:"festival-event-meta",title:(0,a.__)("Location","festival"),className:"festival-event-meta",children:[(0,m.jsx)(_.TextareaControl,{value:e.event_location,onChange:e=>l("event_location",e),label:(0,a.__)("Location Details","festival")}),(0,m.jsx)(_.TextControl,{value:e.event_url,onChange:e=>l("event_url",e),label:(0,a.__)("URL","festival"),type:"url"}),(0,m.jsx)(_.TextControl,{value:e.event_url_label,onChange:e=>l("event_url_label",e),label:(0,a.__)("Link Label","festival"),help:(0,a.__)("Enter a short label to use as link text.","festival")})]})}})})();