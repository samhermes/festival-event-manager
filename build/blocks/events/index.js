(()=>{"use strict";var e,t={987:(e,t,a)=>{const s=window.wp.blocks,n=window.wp.i18n,r=window.wp.data,i=window.wp.blockEditor,l=window.wp.date,o=window.wp.components;var d=a(848);const c=JSON.parse('{"UU":"festival/events"}');(0,s.registerBlockType)(c.UU,{edit:function({attributes:{perPage:e,showPagination:t,category:a,style:s},setAttributes:c}){const{categories:v}=(0,r.useSelect)((e=>{const{getEntityRecords:t}=e("core");return{categories:t("taxonomy","festival_event_category")}}));let m=[],p=[];if(v&&a){const e=v.filter((e=>a.includes(e.id)));m=v.map((e=>e.name)),p=e.map((e=>e.name))}const f={status:"publish"};a&&(f.festival_event_category=a),e&&(f.per_page=e);const _=(0,r.useSelect)((e=>e("core").getEntityRecords("postType","festival_events",f))),h=(0,r.useSelect)((e=>e("core/data").isResolving("core","getEntityRecords",["postType","festival_events",f]))),u=(0,d.jsx)("div",{className:"festival-no-events",children:_&&!h?(0,d.jsx)("p",{children:"No events to display."}):(0,d.jsx)(o.Spinner,{})});return(0,d.jsxs)("div",{...(0,i.useBlockProps)(),children:[(0,d.jsx)(i.InspectorControls,{children:(0,d.jsxs)(o.PanelBody,{children:[(0,d.jsx)(o.__experimentalNumberControl,{label:(0,n.__)("Events per page","festival"),spinControls:"none",min:"1",max:"100",onChange:e=>c({perPage:e}),value:e}),(0,d.jsx)(o.ToggleControl,{label:(0,n.__)("Show pagination","festival"),checked:t,onChange:e=>c({showPagination:e})}),(0,d.jsx)(o.FormTokenField,{label:(0,n.__)("Category","festival"),value:p,suggestions:m,onChange:e=>(e=>{const t=[];e.forEach((e=>{const a=v.find((t=>t.name===e));a&&t.push(a.id)})),c({category:t})})(e)}),(0,d.jsx)(o.RadioControl,{label:(0,n.__)("Style","festival"),selected:s,options:[{label:"List",value:"list"},{label:"Grid",value:"grid"}],onChange:e=>c({style:e})})]})}),_&&_.length?(0,d.jsxs)("div",{className:"festival-events festival-event-list",children:[(0,d.jsx)("h2",{id:"event-list-heading",className:"screen-reader-text",children:"All Events"}),(0,d.jsx)("ul",{className:`event-list is-style-${s}`,"aria-labelledby":"event-list-heading",role:"list",children:_.map((e=>(0,d.jsx)("div",{className:"event-item",id:e.id,children:(0,d.jsxs)("div",{className:"event-info",children:[(0,d.jsxs)("div",{className:"event-date-card",children:[(0,d.jsx)("div",{className:"date-card-month",children:(0,l.format)("M",e.meta.event_start_datetime)}),(0,d.jsx)("div",{className:"date-card-day",children:(0,l.format)("j",e.meta.event_start_datetime)})]}),(0,d.jsxs)("div",{className:"event-info-contain",children:[(0,d.jsx)("h3",{className:"event-title",children:e.title.rendered}),(0,d.jsxs)("ul",{className:"event-details",children:[(0,d.jsx)("li",{className:"event-details-date",children:e.meta.event_multi_day?(0,l.format)("F j, Y",e.meta.event_start_datetime)+(0,n.__)(" to ","festival")+(0,l.format)("F j, Y",e.meta.event_end_datetime):(0,l.format)("F j, Y",e.meta.event_start_datetime)}),e.meta.event_all_day?null:(0,d.jsx)("li",{className:"event-details-time",children:(0,l.format)("g:i a",e.meta.event_start_datetime)+(0,n.__)(" to ","festival")+(0,l.format)("g:i a",e.meta.event_end_datetime)})]})]})]})},e.id)))})]}):u]})}})},20:(e,t,a)=>{var s=a(609),n=Symbol.for("react.element"),r=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,a){var s,o={},d=null,c=null;for(s in void 0!==a&&(d=""+a),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)r.call(t,s)&&!l.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===o[s]&&(o[s]=t[s]);return{$$typeof:n,type:e,key:d,ref:c,props:o,_owner:i.current}}t.jsx=o,t.jsxs=o},848:(e,t,a)=>{e.exports=a(20)},609:e=>{e.exports=window.React}},a={};function s(e){var n=a[e];if(void 0!==n)return n.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,s),r.exports}s.m=t,e=[],s.O=(t,a,n,r)=>{if(!a){var i=1/0;for(c=0;c<e.length;c++){for(var[a,n,r]=e[c],l=!0,o=0;o<a.length;o++)(!1&r||i>=r)&&Object.keys(s.O).every((e=>s.O[e](a[o])))?a.splice(o--,1):(l=!1,r<i&&(i=r));if(l){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,n,r]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={678:0,650:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var n,r,[i,l,o]=a,d=0;if(i.some((t=>0!==e[t]))){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(o)var c=o(s)}for(t&&t(a);d<i.length;d++)r=i[d],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},a=globalThis.webpackChunk=globalThis.webpackChunk||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=s.O(void 0,[650],(()=>s(987)));n=s.O(n)})();