(()=>{"use strict";var e,t={415:()=>{const e=window.wp.blocks,t=window.wp.element,a=window.wp.i18n,n=window.wp.data,l=window.wp.blockEditor,s=window.wp.date,i=window.wp.components,r=JSON.parse('{"u2":"festival/events"}');(0,e.registerBlockType)(r.u2,{edit:function(e){let{attributes:{perPage:r,showPagination:o,category:c,style:m},setAttributes:v}=e;const{categories:d}=(0,n.useSelect)((e=>{const{getEntityRecords:t}=e("core");return{categories:t("taxonomy","festival_event_category")}}));let p=[],u=[];if(d&&c){const e=d.filter((e=>c.includes(e.id)));p=d.map((e=>e.name)),u=e.map((e=>e.name))}const f={status:"publish"};c&&(f.festival_event_category=c),r&&(f.per_page=r);const g=(0,n.useSelect)((e=>e("core").getEntityRecords("postType","festival_events",f))),_=(0,n.useSelect)((e=>e("core/data").isResolving("core","getEntityRecords",["postType","festival_events",f]))),E=(0,t.createElement)("div",{className:"festival-no-events"},g&&!_?(0,t.createElement)("p",null,"No events to display."):(0,t.createElement)(i.Spinner,null));return(0,t.createElement)("div",(0,l.useBlockProps)(),(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(i.PanelBody,null,(0,t.createElement)(i.__experimentalNumberControl,{label:(0,a.__)("Events per page","festival"),spinControls:"none",min:"1",max:"100",onChange:e=>v({perPage:e}),value:r}),(0,t.createElement)(i.ToggleControl,{label:(0,a.__)("Show pagination","festival"),checked:o,onChange:e=>v({showPagination:e})}),(0,t.createElement)(i.FormTokenField,{label:(0,a.__)("Category","festival"),value:u,suggestions:p,onChange:e=>(e=>{const t=[];e.forEach((e=>{const a=d.find((t=>t.name===e));a&&t.push(a.id)})),v({category:t})})(e)}),(0,t.createElement)(i.RadioControl,{label:(0,a.__)("Style","festival"),selected:m,options:[{label:"List",value:"list"},{label:"Grid",value:"grid"}],onChange:e=>v({style:e})}))),g&&g.length?(0,t.createElement)("div",{className:"festival-events festival-event-list"},(0,t.createElement)("h2",{id:"event-list-heading",className:"screen-reader-text"},"All Events"),(0,t.createElement)("ul",{className:`event-list is-style-${m}`,"aria-labelledby":"event-list-heading",role:"list"},g.map((e=>(0,t.createElement)("div",{className:"event-item",id:e.id,key:e.id},(0,t.createElement)("div",{className:"event-info"},(0,t.createElement)("div",{className:"event-date-card"},(0,t.createElement)("div",{className:"date-card-month"},(0,s.format)("M",e.meta.event_start_datetime)),(0,t.createElement)("div",{className:"date-card-day"},(0,s.format)("j",e.meta.event_start_datetime))),(0,t.createElement)("div",{className:"event-info-contain"},(0,t.createElement)("h3",{className:"event-title"},e.title.rendered),(0,t.createElement)("ul",{className:"event-details"},(0,t.createElement)("li",{className:"event-details-date"},e.meta.event_multi_day?(0,s.format)("F j, Y",e.meta.event_start_datetime)+(0,a.__)(" to ","festival")+(0,s.format)("F j, Y",e.meta.event_end_datetime):(0,s.format)("F j, Y",e.meta.event_start_datetime)),e.meta.event_all_day?null:(0,t.createElement)("li",{className:"event-details-time"},(0,s.format)("g:i a",e.meta.event_start_datetime)+(0,a.__)(" to ","festival")+(0,s.format)("g:i a",e.meta.event_end_datetime)))))))))):E)}})}},a={};function n(e){var l=a[e];if(void 0!==l)return l.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,a,l,s)=>{if(!a){var i=1/0;for(m=0;m<e.length;m++){for(var[a,l,s]=e[m],r=!0,o=0;o<a.length;o++)(!1&s||i>=s)&&Object.keys(n.O).every((e=>n.O[e](a[o])))?a.splice(o--,1):(r=!1,s<i&&(i=s));if(r){e.splice(m--,1);var c=l();void 0!==c&&(t=c)}}return t}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[a,l,s]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={297:0,934:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var l,s,[i,r,o]=a,c=0;if(i.some((t=>0!==e[t]))){for(l in r)n.o(r,l)&&(n.m[l]=r[l]);if(o)var m=o(n)}for(t&&t(a);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(m)},a=globalThis.webpackChunk=globalThis.webpackChunk||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=n.O(void 0,[934],(()=>n(415)));l=n.O(l)})();